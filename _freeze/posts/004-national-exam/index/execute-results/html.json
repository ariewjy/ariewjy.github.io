{
  "hash": "73eb075056a6d62fc8ed555471b10a5d",
  "result": {
    "markdown": "---\ntitle: 'Webscraping National Exams of Indonesia '\ndescription: |\n  National Exams 2015-2019. Is Education still decentralized in Java island and its surroundings?\ntitle-block-banner: true\ndate: '2023-01-31'\ncode-fold: show\ncategories:\n  - project\n  - webscraping d\n  - data-science\n  - python\ndraft: false\n---\n\n![Photo by <a href=\"https://unsplash.com/@isengrapher?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\">Ed Us</a> on <a href=\"https://unsplash.com/photos/td71Lq7uAhA?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\">Unsplash</a>](./publications.jpeg){width=\"100%\"}\n\n## The Role of National Exam\n\nFor the longest time, national exam, like many other countries in the world is used as one of the metric to measure how well our future would be (re: children). The concept is simple, each and every children in the country will be given a set of questions/ tasks, that has to be completed for a given time, on different subjects (likely to be Math, Language, Science).\n\n![Indonesia Minister of Education](./Nadiem_Makarim.jpg){width=\"40%\"}\n\nIn Indonesia, this was used to be the sole metric to say if one student passed the exam or not. This has been changed ever since the newly appointed education minister of Indonesia, [Nadiem Makarim](https://en.wikipedia.org/wiki/Nadiem_Makarim) (also the co-founder of SE Asia [Decacorn](https://www.bloomberg.com/news/articles/2019-04-06/indonesia-s-go-jek-joins-decacorn-ranks-with-10b-valuation)- [Gojek](https://www.gojek.com/en-id/), Now [GoTo](https://www.gotocompany.com/en)). Nevertheless, it is interesting to see how this metric pan out over the course of 2015-2019, to see if the decentralized quality of education still persist in Java, Bali and its surrounding only. Leaving out Kalimantan, Sulawesi, Sumatra, NTT, and Papua.\n\n## Data Gathering\n\n### Webscraping using Pandas\n\nWe're taking a look on the data from Ministry of Education (Kemendikbud), from 2019 on national exams as follows.\n\nFor this use we will need to scrape the data from the website, but the catch is--we are using just pandas library!\n\n::: {.cell execution_count=1}\n``` {.python .cell-code}\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport numpy as np\n```\n:::\n\n\nEnter pandas.read_html()\n\n::: {.cell execution_count=2}\n``` {.python .cell-code}\nun_2019= \\\n(pd\n .read_html('https://npd.kemdikbud.go.id/?appid=hasilun&tahun=2019')\n [1][0:547]\n)\n\nun_2019.head()\n```\n\n::: {.cell-output .cell-output-display execution_count=2}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>No.</th>\n      <th>Kode Wilayah</th>\n      <th>Nama Wilayah</th>\n      <th>Propinsi</th>\n      <th>Persentase Anggaran Pendidikan tanpa Transfer Daerah (%)</th>\n      <th>UN SMP</th>\n      <th>UN SMA IPA</th>\n      <th>UN SMA IPS</th>\n      <th>UN SMA BAHASA</th>\n      <th>UN SMK</th>\n      <th>IIUN SMP</th>\n      <th>IIUN SMA IPA</th>\n      <th>IIUN SMA IPS</th>\n      <th>IIUN SMA BAHASA</th>\n      <th>IIUN SMK</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>1</td>\n      <td>010000</td>\n      <td>Prov. D.K.I. Jakarta</td>\n      <td>Prov. D.K.I. Jakarta</td>\n      <td>18.96</td>\n      <td>62.17</td>\n      <td>67.99</td>\n      <td>63.75</td>\n      <td>0</td>\n      <td>51.41</td>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n      <td>0</td>\n      <td>100</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>2</td>\n      <td>010100</td>\n      <td>Kab. Kepulauan Seribu</td>\n      <td>Prov. D.K.I. Jakarta</td>\n      <td>0.00</td>\n      <td>45.26</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>100</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>3</td>\n      <td>016000</td>\n      <td>Kota Jakarta Pusat</td>\n      <td>Prov. D.K.I. Jakarta</td>\n      <td>0.00</td>\n      <td>60.97</td>\n      <td>69.43</td>\n      <td>64.01</td>\n      <td>0</td>\n      <td>55.13</td>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n      <td>0</td>\n      <td>100</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>4</td>\n      <td>016100</td>\n      <td>Kota Jakarta Utara</td>\n      <td>Prov. D.K.I. Jakarta</td>\n      <td>0.00</td>\n      <td>60.09</td>\n      <td>66.59</td>\n      <td>61.53</td>\n      <td>0</td>\n      <td>48.85</td>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n      <td>0</td>\n      <td>100</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>5</td>\n      <td>016200</td>\n      <td>Kota Jakarta Barat</td>\n      <td>Prov. D.K.I. Jakarta</td>\n      <td>0.00</td>\n      <td>60.42</td>\n      <td>69.31</td>\n      <td>63.85</td>\n      <td>0</td>\n      <td>49.65</td>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n      <td>0</td>\n      <td>100</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\nLet's see what features do we have, and which one do we really **care** about in this project.\n\n::: {.cell execution_count=3}\n``` {.python .cell-code}\nun_2019.columns\n```\n\n::: {.cell-output .cell-output-display execution_count=3}\n```\nIndex(['No.', 'Kode Wilayah', 'Nama Wilayah', 'Propinsi',\n       'Persentase Anggaran Pendidikan tanpa Transfer Daerah (%)', 'UN SMP',\n       'UN SMA IPA', 'UN SMA IPS', 'UN SMA BAHASA', 'UN SMK', 'IIUN SMP',\n       'IIUN SMA IPA', 'IIUN SMA IPS', 'IIUN SMA BAHASA', 'IIUN SMK'],\n      dtype='object')\n```\n:::\n:::\n\n\nWe will leave some columns and just using region information ('Nama Wilayah', 'Propinsi'), and national exams score ('UN SMP','UN SMA IPA', 'UN SMA IPS')\n\n::: {.cell execution_count=4}\n``` {.python .cell-code}\nun_2019 = un_2019[['Nama Wilayah', 'Propinsi', 'UN SMP','UN SMA IPA', 'UN SMA IPS']]\nun_2019.head()\n```\n\n::: {.cell-output .cell-output-display execution_count=4}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Nama Wilayah</th>\n      <th>Propinsi</th>\n      <th>UN SMP</th>\n      <th>UN SMA IPA</th>\n      <th>UN SMA IPS</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Prov. D.K.I. Jakarta</td>\n      <td>Prov. D.K.I. Jakarta</td>\n      <td>62.17</td>\n      <td>67.99</td>\n      <td>63.75</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>Kab. Kepulauan Seribu</td>\n      <td>Prov. D.K.I. Jakarta</td>\n      <td>45.26</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Kota Jakarta Pusat</td>\n      <td>Prov. D.K.I. Jakarta</td>\n      <td>60.97</td>\n      <td>69.43</td>\n      <td>64.01</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>Kota Jakarta Utara</td>\n      <td>Prov. D.K.I. Jakarta</td>\n      <td>60.09</td>\n      <td>66.59</td>\n      <td>61.53</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>Kota Jakarta Barat</td>\n      <td>Prov. D.K.I. Jakarta</td>\n      <td>60.42</td>\n      <td>69.31</td>\n      <td>63.85</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\nLet's also check if the dtypes is already correct e.g. digit would be float64 or int64 dtype.\n\n::: {.cell execution_count=5}\n``` {.python .cell-code}\nun_2019.info()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n<class 'pandas.core.frame.DataFrame'>\nRangeIndex: 547 entries, 0 to 546\nData columns (total 5 columns):\n #   Column        Non-Null Count  Dtype \n---  ------        --------------  ----- \n 0   Nama Wilayah  547 non-null    object\n 1   Propinsi      547 non-null    object\n 2   UN SMP        547 non-null    object\n 3   UN SMA IPA    547 non-null    object\n 4   UN SMA IPS    547 non-null    object\ndtypes: object(5)\nmemory usage: 21.5+ KB\n```\n:::\n:::\n\n\nLet's make some amendments on dtypes, to allow plotting.\n\n::: {.cell execution_count=6}\n``` {.python .cell-code}\nun_2019 = \\\nun_2019.astype({\n    'UN SMP': float,\n    'UN SMA IPA': float,\n    'UN SMA IPS': float,\n})\nun_2019.dtypes\n```\n\n::: {.cell-output .cell-output-display execution_count=6}\n```\nNama Wilayah     object\nPropinsi         object\nUN SMP          float64\nUN SMA IPA      float64\nUN SMA IPS      float64\ndtype: object\n```\n:::\n:::\n\n\nJust me, but I dont like redundant information, so let's remove some of the words in the column.\n\n::: {.cell execution_count=7}\n``` {.python .cell-code}\nun_2019 = un_2019.rename(columns={\n    'Nama Wilayah': 'Wilayah'})\nun_2019.head()\n```\n\n::: {.cell-output .cell-output-display execution_count=7}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Wilayah</th>\n      <th>Propinsi</th>\n      <th>UN SMP</th>\n      <th>UN SMA IPA</th>\n      <th>UN SMA IPS</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Prov. D.K.I. Jakarta</td>\n      <td>Prov. D.K.I. Jakarta</td>\n      <td>62.17</td>\n      <td>67.99</td>\n      <td>63.75</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>Kab. Kepulauan Seribu</td>\n      <td>Prov. D.K.I. Jakarta</td>\n      <td>45.26</td>\n      <td>0.00</td>\n      <td>0.00</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Kota Jakarta Pusat</td>\n      <td>Prov. D.K.I. Jakarta</td>\n      <td>60.97</td>\n      <td>69.43</td>\n      <td>64.01</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>Kota Jakarta Utara</td>\n      <td>Prov. D.K.I. Jakarta</td>\n      <td>60.09</td>\n      <td>66.59</td>\n      <td>61.53</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>Kota Jakarta Barat</td>\n      <td>Prov. D.K.I. Jakarta</td>\n      <td>60.42</td>\n      <td>69.31</td>\n      <td>63.85</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\nSimilarly, let's remove 'Prov' from each data in 'Propinsi' column.\n\n::: {.cell execution_count=8}\n``` {.python .cell-code}\nun_2019['Propinsi'] = \\\nun_2019['Propinsi'].str.replace('Prov. ', '', regex=False)\n\nun_2019.head()\n```\n\n::: {.cell-output .cell-output-display execution_count=8}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Wilayah</th>\n      <th>Propinsi</th>\n      <th>UN SMP</th>\n      <th>UN SMA IPA</th>\n      <th>UN SMA IPS</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Prov. D.K.I. Jakarta</td>\n      <td>D.K.I. Jakarta</td>\n      <td>62.17</td>\n      <td>67.99</td>\n      <td>63.75</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>Kab. Kepulauan Seribu</td>\n      <td>D.K.I. Jakarta</td>\n      <td>45.26</td>\n      <td>0.00</td>\n      <td>0.00</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Kota Jakarta Pusat</td>\n      <td>D.K.I. Jakarta</td>\n      <td>60.97</td>\n      <td>69.43</td>\n      <td>64.01</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>Kota Jakarta Utara</td>\n      <td>D.K.I. Jakarta</td>\n      <td>60.09</td>\n      <td>66.59</td>\n      <td>61.53</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>Kota Jakarta Barat</td>\n      <td>D.K.I. Jakarta</td>\n      <td>60.42</td>\n      <td>69.31</td>\n      <td>63.85</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n### Quick DataViz...\n\nLet's plot senior high school (SMA) data:\n\n::: {.cell execution_count=9}\n``` {.python .cell-code}\n#making the barchart\nplt.style.use('ggplot')\n\n\n(un_2019.groupby('Propinsi')\n [[\n     # 'UN SMP',\n     'UN SMA IPA', \n     'UN SMA IPS'\n ]]\n .median()\n .sort_values(\n     by='UN SMA IPA',\n     ascending=True,\n )\n .plot(\n     kind='barh',\n     # ax=axs[0],\n     figsize=(6,10),\n ));\n```\n\n::: {.cell-output .cell-output-display}\n![](index_files/figure-html/cell-10-output-1.png){width=637 height=781}\n:::\n:::\n\n\nSo, from the look of it, 2019 seems to be the year of our capital city: D.K.I. Jakarta, followed by Yogyakarta, Jawa Tengah, Timur, Bali etc. Excluding Bangka Belitung, the big five is all from Java and Bali.\n\nDecentralized? From 2019- YES.\n\nBut of course this won't do it justice, we need more data right?\n\n### Scrape More Data\n\nLet's all be human, not abusive towards our notebook, and create a function to scrape our data-change the dtypes-change the column name etc.\n\n::: {.cell execution_count=10}\n``` {.python .cell-code}\ndef webscrap(tahun):\n    df = pd.read_html(f'https://npd.kemdikbud.go.id/?appid=hasilun&tahun={tahun}')[1][0:547] #ambil data dari web\n    df = df[['Nama Wilayah', 'Propinsi', 'UN SMP','UN SMA IPA', 'UN SMA IPS']] #extract kolom\n    df = df.astype({'UN SMP': float, 'UN SMA IPA': float, 'UN SMA IPS': float}) #ubah dtypes\n    df = df.rename(columns={'Nama Wilayah': 'Wilayah'}) #rename kolom 'Nama Wilayah' jadi 'Wilayah'\n    df['Propinsi'] = df['Propinsi'].str.replace('Prov. ', '', regex=False) #menghapus 'Prov.' \n    df['Tahun'] = tahun #menambahkan kolom tahun\n    return df\n```\n:::\n\n\nThen let's scrap all years data from 2015-2019.\n\n::: {.cell execution_count=11}\n``` {.python .cell-code}\nun_2015 = webscrap(2015)\nun_2016 = webscrap(2016)\nun_2017 = webscrap(2017)\nun_2018 = webscrap(2018)\nun_2019 = webscrap(2019)\n```\n:::\n\n\nLet's do quick sanity check:\n\n::: {.cell execution_count=12}\n``` {.python .cell-code}\nun_2015.head()\n```\n\n::: {.cell-output .cell-output-display execution_count=12}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Wilayah</th>\n      <th>Propinsi</th>\n      <th>UN SMP</th>\n      <th>UN SMA IPA</th>\n      <th>UN SMA IPS</th>\n      <th>Tahun</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Prov. D.K.I. Jakarta</td>\n      <td>D.K.I. Jakarta</td>\n      <td>73.96</td>\n      <td>72.99</td>\n      <td>66.05</td>\n      <td>2015</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>Kab. Kepulauan Seribu</td>\n      <td>D.K.I. Jakarta</td>\n      <td>62.80</td>\n      <td>0.00</td>\n      <td>0.00</td>\n      <td>2015</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Kota Jakarta Pusat</td>\n      <td>D.K.I. Jakarta</td>\n      <td>74.02</td>\n      <td>72.82</td>\n      <td>63.99</td>\n      <td>2015</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>Kota Jakarta Utara</td>\n      <td>D.K.I. Jakarta</td>\n      <td>71.22</td>\n      <td>69.54</td>\n      <td>63.31</td>\n      <td>2015</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>Kota Jakarta Barat</td>\n      <td>D.K.I. Jakarta</td>\n      <td>71.86</td>\n      <td>71.79</td>\n      <td>63.71</td>\n      <td>2015</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n::: {.cell execution_count=13}\n``` {.python .cell-code}\nun_2019.head()\n```\n\n::: {.cell-output .cell-output-display execution_count=13}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Wilayah</th>\n      <th>Propinsi</th>\n      <th>UN SMP</th>\n      <th>UN SMA IPA</th>\n      <th>UN SMA IPS</th>\n      <th>Tahun</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Prov. D.K.I. Jakarta</td>\n      <td>D.K.I. Jakarta</td>\n      <td>62.17</td>\n      <td>67.99</td>\n      <td>63.75</td>\n      <td>2019</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>Kab. Kepulauan Seribu</td>\n      <td>D.K.I. Jakarta</td>\n      <td>45.26</td>\n      <td>0.00</td>\n      <td>0.00</td>\n      <td>2019</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Kota Jakarta Pusat</td>\n      <td>D.K.I. Jakarta</td>\n      <td>60.97</td>\n      <td>69.43</td>\n      <td>64.01</td>\n      <td>2019</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>Kota Jakarta Utara</td>\n      <td>D.K.I. Jakarta</td>\n      <td>60.09</td>\n      <td>66.59</td>\n      <td>61.53</td>\n      <td>2019</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>Kota Jakarta Barat</td>\n      <td>D.K.I. Jakarta</td>\n      <td>60.42</td>\n      <td>69.31</td>\n      <td>63.85</td>\n      <td>2019</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\nEven better, let's combine all of the data into one big data:\n\n::: {.cell execution_count=14}\n``` {.python .cell-code}\n#merge data\nlist_df = [un_2015, un_2016, un_2017, un_2018, un_2019]\nun_2015_2019 = pd.concat(list_df, axis='rows')\n\n#sanity check\nun_2015_2019.Tahun.value_counts()\n```\n\n::: {.cell-output .cell-output-display execution_count=14}\n```\n2015    547\n2016    547\n2017    547\n2018    547\n2019    547\nName: Tahun, dtype: int64\n```\n:::\n:::\n\n\nData looks good, but just to be safe, let's save it before we do anything stupid.\n\n::: {.cell execution_count=15}\n``` {.python .cell-code}\nun_2015_2019.to_csv(\"un_2015_2019.csv\", index=False)\n```\n:::\n\n\n### More DataViz...\n\nLet's see which 10 regions have the highest mean national exams.\n\n::: {.cell execution_count=16}\n``` {.python .cell-code}\norder_new = \\\n(un_2019\n [['Propinsi', 'UN SMA IPA']]\n .groupby(\"Propinsi\")\n .mean()\n .sort_values(by='UN SMA IPA', ascending=False)\n .reset_index()\n)\n\norder_new.head(10)\n```\n\n::: {.cell-output .cell-output-display execution_count=16}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Propinsi</th>\n      <th>UN SMA IPA</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>D.I. Yogyakarta</td>\n      <td>65.650000</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>Jawa Tengah</td>\n      <td>61.510000</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>D.K.I. Jakarta</td>\n      <td>58.410000</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>Jawa Timur</td>\n      <td>57.377949</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>Bali</td>\n      <td>55.901000</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>Bangka Belitung</td>\n      <td>55.407500</td>\n    </tr>\n    <tr>\n      <th>6</th>\n      <td>Sumatera Barat</td>\n      <td>54.978500</td>\n    </tr>\n    <tr>\n      <th>7</th>\n      <td>Kalimantan Timur</td>\n      <td>54.211818</td>\n    </tr>\n    <tr>\n      <th>8</th>\n      <td>Jawa Barat</td>\n      <td>53.813929</td>\n    </tr>\n    <tr>\n      <th>9</th>\n      <td>Banten</td>\n      <td>53.695556</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\nLet's do some plotting for all years.\n\n::: {.cell execution_count=17}\n``` {.python .cell-code}\nfig, axs = plt.subplots(figsize=(10,12))\n\n(sns\n .barplot(\n     data=un_2015_2019.query(\" Tahun>2014 \"), \n     x='UN SMA IPA', \n     y='Propinsi', \n     hue='Tahun',\n     ax=axs, \n     errorbar=('ci', False),\n     palette='viridis_r',\n     order=order_new['Propinsi']\n )\n);\n```\n\n::: {.cell-output .cell-output-display}\n![](index_files/figure-html/cell-18-output-1.png){width=935 height=949}\n:::\n:::\n\n\nFrom the above figure, it looks like the Bali, D.I. Yogyakarta, similar to 2019 dataset is indeed appearing at the top-5.\n\nBut, let's exclude year 2015 and 2016, as I think it is a bit an outlier in terms of value here.\n\n::: {.cell execution_count=18}\n``` {.python .cell-code}\nfig, axs = plt.subplots(figsize=(10,12))\n\n(sns\n .barplot(\n     data=un_2015_2019.query(\" Tahun>2016 \"), \n     x='UN SMA IPA', \n     y='Propinsi', \n     hue='Tahun',\n     ax=axs, \n     errorbar=('ci', False),\n     palette='viridis_r',\n     order=order_new['Propinsi']\n )\n);\n```\n\n::: {.cell-output .cell-output-display}\n![](index_files/figure-html/cell-19-output-1.png){width=935 height=949}\n:::\n:::\n\n\nJust by looking at it, the big-five are from Java and Bali. Not until we reach rank 6 and below we see Bangka Belitung, Sumatera, and Kalimantan. Region outside Java and Bali.\n\nNow let's see if our thinking is right, by getting a top region on each national exams from junior to senior high schools.\n\n::: {.cell execution_count=19}\n``` {.python .cell-code}\ndef get_max_prop(df):\n    max_un_smp = df.groupby(['Propinsi'])['UN SMP'].mean().nlargest(1).index[0]\n    max_un_sma_ipa = df.groupby(['Propinsi'])['UN SMA IPA'].mean().nlargest(1).index[0]\n    max_un_sma_ips = df.groupby(['Propinsi'])['UN SMA IPS'].mean().nlargest(1).index[0]\n    return [max_un_smp, max_un_sma_ipa, max_un_sma_ips]\n```\n:::\n\n\nLet's do a loop over years;\n\n::: {.cell execution_count=20}\n``` {.python .cell-code}\nyears = [un_2015, un_2016, un_2017, un_2018, un_2019]\nfor year in years:\n    print(get_max_prop(year))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n['D.K.I. Jakarta', 'Bali', 'Bali']\n['D.I. Yogyakarta', 'Bali', 'Sumatera Utara']\n['D.I. Yogyakarta', 'Sulawesi Tenggara', 'D.I. Yogyakarta']\n['D.I. Yogyakarta', 'D.I. Yogyakarta', 'D.I. Yogyakarta']\n['D.I. Yogyakarta', 'D.I. Yogyakarta', 'D.I. Yogyakarta']\n```\n:::\n:::\n\n\nFrom the above result, it was clear that excluding Sulawesi Tenggara, all of provinces here is coming from Java and Bali. Most notably D.I. Yogyakarta, D.K.I. Jakarta and Bali.\n\n## Let's Talk about Kalimantan Timur\n\nWhy? Cause I was raised in Tenggarong, Kutai Kartanegara region, Kalimantan Timur Province. I spent my senior high school here, so I have my own thinking here.\n\nMy theory is even if Kalimantan Timur was up there at rank 8, it was not from Tenggarong.\n\n::: {.cell execution_count=21}\n``` {.python .cell-code}\n(un_2015_2019.query(\"Propinsi == 'Kalimantan Timur'\")\n .sort_values(by='UN SMA IPA', ascending=False, ignore_index=True)\n .head(10)\n\n)\n```\n\n::: {.cell-output .cell-output-display execution_count=21}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Wilayah</th>\n      <th>Propinsi</th>\n      <th>UN SMP</th>\n      <th>UN SMA IPA</th>\n      <th>UN SMA IPS</th>\n      <th>Tahun</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Kab. Kutai Barat</td>\n      <td>Kalimantan Timur</td>\n      <td>67.48</td>\n      <td>67.03</td>\n      <td>66.30</td>\n      <td>2015</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>Kota Bontang</td>\n      <td>Kalimantan Timur</td>\n      <td>61.46</td>\n      <td>66.26</td>\n      <td>58.32</td>\n      <td>2019</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Kota Bontang</td>\n      <td>Kalimantan Timur</td>\n      <td>57.47</td>\n      <td>63.93</td>\n      <td>61.97</td>\n      <td>2017</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>Kota Bontang</td>\n      <td>Kalimantan Timur</td>\n      <td>58.06</td>\n      <td>63.40</td>\n      <td>58.75</td>\n      <td>2018</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>Kab. Kutai Kartanegara</td>\n      <td>Kalimantan Timur</td>\n      <td>55.74</td>\n      <td>62.27</td>\n      <td>61.03</td>\n      <td>2015</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>Kota Balikpapan</td>\n      <td>Kalimantan Timur</td>\n      <td>59.49</td>\n      <td>61.71</td>\n      <td>53.79</td>\n      <td>2019</td>\n    </tr>\n    <tr>\n      <th>6</th>\n      <td>Kota Balikpapan</td>\n      <td>Kalimantan Timur</td>\n      <td>57.87</td>\n      <td>61.30</td>\n      <td>51.25</td>\n      <td>2015</td>\n    </tr>\n    <tr>\n      <th>7</th>\n      <td>Kota Bontang</td>\n      <td>Kalimantan Timur</td>\n      <td>60.51</td>\n      <td>61.16</td>\n      <td>56.19</td>\n      <td>2016</td>\n    </tr>\n    <tr>\n      <th>8</th>\n      <td>Kota Balikpapan</td>\n      <td>Kalimantan Timur</td>\n      <td>55.50</td>\n      <td>60.94</td>\n      <td>53.81</td>\n      <td>2017</td>\n    </tr>\n    <tr>\n      <th>9</th>\n      <td>Kota Balikpapan</td>\n      <td>Kalimantan Timur</td>\n      <td>56.65</td>\n      <td>60.51</td>\n      <td>51.45</td>\n      <td>2018</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n::: callout-note\n## Why Bontang and Balikpapan?\n\nWelp, no surprise there, I was right. My hometown (Kab. Kutai Kartanegara) did a good one in 2015, but that was it. The rest is Bontang, Balikpapan. Bontang, has a big industry from Pupuk Kaltim (PKT), and Balikpapan is a big Oil City with Airport, etc.\n:::\n\n## What do We Get?\n\nI think it was clear now that education still very much an exclusive trait, owned by province, and place where there is an industry like Pupuk Kaltim Bontang, and Oil companies in Balikpapan. Places where not so much happening like Tenggarong, is very much stay behind the rest of Kalimantan Timur, and further behind the rest of the big cities in Java and Bali.\n\nWith the exclusion of National Exams as the only metric for student passing the bar, I wonder how could we as a nation measure the level of education on every province of Indonesia. For that, I wish my country the best - TIme will tell..I guess.\n\n",
    "supporting": [
      "index_files"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n"
      ]
    }
  }
}